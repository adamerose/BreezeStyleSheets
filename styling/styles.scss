// ========================================================================== //
// QWidget (FINISHED)


QWidget {
    background-color: $BACKGROUND_DARK;
    border-color: $BACKGROUND_LIGHT;
    color: $FOREGROUND_LIGHT;

    // Affects QLineEdit, QListView, QTableView, QTextEdit, QTreeView, and anything with highlighted text
    selection-background-color: $SELECTION_NORMAL;
    selection-color: $FOREGROUND_LIGHT;

    &:disabled {
        color: $FOREGROUND_DARK;
        selection-background-color: $SELECTION_DARK;
        selection-color: $FOREGROUND_DARK;
    }

    &:focus {
        border: none;
    }

    &::item {

        &:selected {
            background-color: $SELECTION_NORMAL;
        }

        &:hover {
            background-color: $SELECTION_LIGHT;
        }
    }
}

QLineEdit,
QListView {

}

// ========================================================================== //
// QToolTip (FINISHED)

QToolTip {
    background-color: $BACKGROUND_LIGHT;
    border: 1px solid $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;
}

// ========================================================================== //
// QStatusBar (FINISHED)

QStatusBar {
    background: $BACKGROUND_NORMAL;

    QWidget {
        background: transparent;
    }

    /* Removes white vertical borders separating items */
    &::item {
        border: none;
    }
}

// ========================================================================== //
// QCheckBox (FINISHED)

QCheckBox {
    background-color: $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;
    spacing: 4px;

    QWidget:disabled {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_DARK;
    }

    &::indicator {
        margin-left: 4px;
        height: 16px;
        width: 16px;
    }
}

// ========================================================================== //
// QGroupBox (FINISHED)

QGroupBox {
    padding-top: 14px;
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;
}

// ========================================================================== //
// QRadioButton

QRadioButton {
    background-color: $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;
    spacing: 4px;
    padding: 0px;
    border: none;
    outline: none;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_DARK;
        border: none;
        outline: none;
    }

    QWidget {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_LIGHT;
        spacing: 0px;
        padding: 0px;
        outline: none;
        border: none;
    }

    &::indicator {
        border: none;
        outline: none;
        margin-left: 4px;
        height: 16px;
        width: 16px;
    }
}

// ========================================================================== //
// QMenuBar

QMenuBar {
    background-color: $BACKGROUND_NORMAL;
    padding: 2px;
    border: 1px solid $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;

    &::item {
        padding: 4px;

        &:pressed {
            background-color: $SELECTION_LIGHT;
        }
    }
}

// ========================================================================== //
// QMenu (FINISHED)

QMenu {
    color: $FOREGROUND_LIGHT;

    &::separator {
        height: 1px;
        background-color: $BACKGROUND_LIGHT;
        color: $FOREGROUND_LIGHT;
    }

    &::icon {
        margin: 0px;
        padding-left: 8px;
    }

    &::item {
        background-color: $BACKGROUND_NORMAL;
        padding: 4px 24px;
    }

    &::right-arrow {
        margin: 5px;
        image: url($PATH_RESOURCES + '/rc/arrow_right.png');
        height: 12px;
        width: 12px;
    }
    
    &::indicator {
        width: 12px;
        height: 12px;
        margin-left: 6px;
        // width + margin-left
        margin-right: -18px;
    }
}


// ========================================================================== //
// QAbstractItemView

QAbstractItemView {
    alternate-background-color: $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;

    QLineEdit {
        padding: 2px;
    }
}

// ========================================================================== //
// QAbstractScrollArea

QAbstractScrollArea {
    background-color: $BACKGROUND_DARK;
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;
    padding: 2px;
    /* fix #159 */
    min-height: 1.25em;
    /* fix #159 */
    color: $FOREGROUND_LIGHT;

    &:disabled {
        color: $FOREGROUND_DARK;
    }
}

// ========================================================================== //
// QScrollArea


QScrollArea QWidget QWidget:disabled {
    background-color: $BACKGROUND_DARK;
}

// ========================================================================== //
// QScrollBar

QScrollBar {

    &:horizontal {
        height: 16px;
        margin: 2px 16px 2px 16px;
        border: 1px solid $BACKGROUND_NORMAL;
        border-radius: $SIZE_BORDER_RADIUS;
        background-color: $BACKGROUND_DARK;
    }

    &:vertical {
        background-color: $BACKGROUND_DARK;
        width: 16px;
        margin: 16px 2px 16px 2px;
        border: 1px solid $BACKGROUND_NORMAL;
        border-radius: $SIZE_BORDER_RADIUS;
    }

    &::handle {

        &:horizontal {
            background-color: $FOREGROUND_DARK;
            border: 1px solid $BACKGROUND_NORMAL;
            border-radius: $SIZE_BORDER_RADIUS;
            min-width: 8px;

            &:hover {
                background-color: $SELECTION_LIGHT;
            }

            &:focus {
                border: 1px solid $SELECTION_NORMAL;
            }
        }

        &:vertical {
            background-color: $FOREGROUND_DARK;
            border: 1px solid $BACKGROUND_NORMAL;
            min-height: 8px;
            border-radius: $SIZE_BORDER_RADIUS;

            &:hover {
                background-color: $SELECTION_LIGHT;
            }

            &:focus {
                border: 1px solid $SELECTION_NORMAL;
            }
        }
    }

    &::add-line {

        &:horizontal {
            margin: 0px 0px 0px 0px;
            border-image: url($PATH_RESOURCES + '/rc/arrow_right_disabled.png');
            height: 12px;
            width: 12px;
            subcontrol-position: right;
            subcontrol-origin: margin;

            &:hover,
            &:on {
                border-image: url($PATH_RESOURCES + '/rc/arrow_right.png');
                height: 12px;
                width: 12px;
                subcontrol-position: right;
                subcontrol-origin: margin;
            }
        }

        &:vertical {
            margin: 3px 0px 3px 0px;
            border-image: url($PATH_RESOURCES + '/rc/arrow_down_disabled.png');
            height: 12px;
            width: 12px;
            subcontrol-position: bottom;
            subcontrol-origin: margin;

            &:hover,
            &:on {
                border-image: url($PATH_RESOURCES + '/rc/arrow_down.png');
                height: 12px;
                width: 12px;
                subcontrol-position: bottom;
                subcontrol-origin: margin;
            }
        }
    }

    &::sub-line {
        &:horizontal {
            margin: 0px 3px 0px 3px;
            border-image: url($PATH_RESOURCES + '/rc/arrow_left_disabled.png');
            height: 12px;
            width: 12px;
            subcontrol-position: left;
            subcontrol-origin: margin;

            &:hover,
            &:on {
                border-image: url($PATH_RESOURCES + '/rc/arrow_left.png');
                height: 12px;
                width: 12px;
                subcontrol-position: left;
                subcontrol-origin: margin;
            }
        }

        &:vertical {
            margin: 3px 0px 3px 0px;
            border-image: url($PATH_RESOURCES + '/rc/arrow_up_disabled.png');
            height: 12px;
            width: 12px;
            subcontrol-position: top;
            subcontrol-origin: margin;

            &:hover,
            &:on {
                border-image: url($PATH_RESOURCES + '/rc/arrow_up.png');
                height: 12px;
                width: 12px;
                subcontrol-position: top;
                subcontrol-origin: margin;
            }
        }
    }

    &::up-arrow:horizontal,
    &::down-arrow:horizontal {
        background: none;
    }

    &::up-arrow:vertical,
    &::down-arrow:vertical {
        background: none;
    }

    &::add-page:horizontal,
    &::sub-page:horizontal {
        background: none;
    }

    &::add-page:vertical,
    &::sub-page:vertical {
        background: none;
    }
}

// ========================================================================== //
// QTextEdit

QTextEdit {
    background-color: $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;
    border-radius: $SIZE_BORDER_RADIUS;
    border: 1px solid $BACKGROUND_NORMAL;

    &:focus {
        border: 1px solid $SELECTION_NORMAL;
    }

    &:selected {
        background: $SELECTION_NORMAL;
        color: $BACKGROUND_NORMAL;
    }
}

// ========================================================================== //
// QPlainTextEdit


QPlainTextEdit {
    background-color: $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;
    border-radius: $SIZE_BORDER_RADIUS;
    border: 1px solid $BACKGROUND_NORMAL;

    &:focus {
        border: 1px solid $SELECTION_NORMAL;
    }

    &:selected {
        background: $SELECTION_NORMAL;
        color: $BACKGROUND_NORMAL;
    }
}

// ========================================================================== //
// QSizeGrip

QSizeGrip {
    background: transparent;
    width: 12px;
    height: 12px;
    image: url($PATH_RESOURCES + '/rc/window_grip.png');
}

// ========================================================================== //
// QStackedWidget


QStackedWidget {
    padding: 2px;
    border: 1px solid $BACKGROUND_NORMAL;
    border: 1px solid $BACKGROUND_DARK;
}

// ========================================================================== //
// QToolBar

QToolBar {
    background-color: $BACKGROUND_NORMAL;
    border-bottom: 1px solid $BACKGROUND_DARK;
    padding: 2px;
    font-weight: bold;
    spacing: 2px;

    QToolButton {
        background-color: $BACKGROUND_NORMAL;
        border: 1px solid $BACKGROUND_NORMAL;

        &:checked {
            border: 1px solid $BACKGROUND_DARK;
            background-color: $BACKGROUND_DARK;
        }
    }

    &::handle {

        &:horizontal {
            width: 16px;
            image: url($PATH_RESOURCES + '/rc/toolbar_move_horizontal.png');
        }

        &:vertical {
            height: 16px;
            image: url($PATH_RESOURCES + '/rc/toolbar_move_vertical.png');
        }
    }

    &::separator {

        &:horizontal {
            width: 16px;
            image: url($PATH_RESOURCES + '/rc/toolbar_separator_horizontal.png');
        }

        &:vertical {
            height: 16px;
            image: url($PATH_RESOURCES + '/rc/toolbar_separator_vertical.png');
        }
    }
}

QToolButton#qt_toolbar_ext_button {
    background: $BACKGROUND_NORMAL;
    border: 0px;
    color: $FOREGROUND_LIGHT;
    image: url($PATH_RESOURCES + '/rc/arrow_right.png');
}

// ========================================================================== //
// QAbstractSpinBox


QAbstractSpinBox {
    background-color: $BACKGROUND_DARK;
    border: 1px solid $BACKGROUND_NORMAL;
    color: $FOREGROUND_LIGHT;

    /* This fixes 103, 111 */
    padding-top: 2px;

    /* This fixes 103, 111 */
    padding-bottom: 2px;
    padding-left: 4px;
    padding-right: 4px;
    border-radius: $SIZE_BORDER_RADIUS;
    /* min-width: 5px; removed to fix 109 */

    &:up-button {
        background-color: transparent $BACKGROUND_DARK;
        subcontrol-origin: border;
        subcontrol-position: top right;
        border-left: 1px solid $BACKGROUND_NORMAL;
        border-bottom: 1px solid $BACKGROUND_NORMAL;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        margin: 1px;
        width: 12px;
        margin-bottom: -1px;
    }

    &::up-arrow,
    &::up-arrow:disabled,
    &::up-arrow:off {
        image: url($PATH_RESOURCES + '/rc/arrow_up_disabled.png');
        height: 8px;
        width: 8px;
    }

    &::up-arrow:hover {
        image: url($PATH_RESOURCES + '/rc/arrow_up.png');
    }

    &:down-button {
        background-color: transparent $BACKGROUND_DARK;
        subcontrol-origin: border;
        subcontrol-position: bottom right;
        border-left: 1px solid $BACKGROUND_NORMAL;
        border-top: 1px solid $BACKGROUND_NORMAL;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        margin: 1px;
        width: 12px;
        margin-top: -1px;
    }

    &::down-arrow,
    &::down-arrow:disabled,
    &::down-arrow:off {
        image: url($PATH_RESOURCES + '/rc/arrow_down_disabled.png');
        height: 8px;
        width: 8px;
    }

    &::down-arrow:hover {
        image: url($PATH_RESOURCES + '/rc/arrow_down.png');
    }

    &:focus {
        border: 1px solid $SELECTION_NORMAL;
    }

    &:selected {
        background: $SELECTION_NORMAL;
        color: $BACKGROUND_NORMAL;
    }
}

/* ------------------------------------------------------------------------ */
/* DISPLAYS --------------------------------------------------------------- */
/* ------------------------------------------------------------------------ */

// ========================================================================== //
// QLabel

QLabel {

    color: $FOREGROUND_LIGHT;

    &:disabled {
        color: $FOREGROUND_DARK;
    }
}

// ========================================================================== //
// QTextBrowser

QTextBrowser {
    background-color: $BACKGROUND_DARK;
    border: 1px solid $BACKGROUND_NORMAL;
    color: $FOREGROUND_LIGHT;
    border-radius: $SIZE_BORDER_RADIUS;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        border: 1px solid $BACKGROUND_NORMAL;
        color: $FOREGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;
    }

    &:hover,
    &:!hover,
    &:selected,
    &:pressed {
        border: 1px solid $BACKGROUND_NORMAL;
    }
}

// ========================================================================== //
// QGraphicsView


QGraphicsView {
    background-color: $BACKGROUND_DARK;
    border: 1px solid $BACKGROUND_NORMAL;
    color: $FOREGROUND_LIGHT;
    border-radius: $SIZE_BORDER_RADIUS;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        border: 1px solid $BACKGROUND_NORMAL;
        color: $FOREGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;
    }

    &:hover,
    &:!hover,
    &:selected,
    &:pressed {
        border: 1px solid $BACKGROUND_NORMAL;
    }
}

// ========================================================================== //
// QCalendarWidget


QCalendarWidget {
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_DARK;
    }
}

// ========================================================================== //
// QLCDNumber


QLCDNumber {
    background-color: $BACKGROUND_DARK;
    color: $FOREGROUND_LIGHT;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_DARK;
    }
}

// ========================================================================== //
// QProgressBar

QProgressBar {
    background-color: $BACKGROUND_DARK;
    border: 1px solid $BACKGROUND_NORMAL;
    color: $FOREGROUND_LIGHT;
    border-radius: $SIZE_BORDER_RADIUS;
    text-align: center;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        border: 1px solid $BACKGROUND_NORMAL;
        color: $FOREGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;
        text-align: center;
    }

    &::chunk {
        background-color: $SELECTION_NORMAL;
        color: $BACKGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;

        &:disabled {
            background-color: $SELECTION_DARK;
            color: $FOREGROUND_DARK;
            border-radius: $SIZE_BORDER_RADIUS;
        }
    }
}

/* ------------------------------------------------------------------------ */
/* BUTTONS ---------------------------------------------------------------- */
/* ------------------------------------------------------------------------ */

// ========================================================================== //
// QPushButton

QPushButton {
    background-color: $BACKGROUND_LIGHT;
    border: 1px solid $BACKGROUND_NORMAL;
    color: $FOREGROUND_LIGHT;
    border-radius: $SIZE_BORDER_RADIUS;
    padding: 3px;
    outline: none;
    /* Issue #194 - Special case of QPushButton inside dialogs, for better UI */
    min-width: 80px;

    &:disabled {
        background-color: $BACKGROUND_NORMAL;
        border: 1px solid $BACKGROUND_NORMAL;
        color: $FOREGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;
        padding: 3px;
    }

    &:checked {
        background-color: $BACKGROUND_NORMAL;
        border: 1px solid $BACKGROUND_NORMAL;
        border-radius: $SIZE_BORDER_RADIUS;
        padding: 3px;
        outline: none;

        &:disabled {
            background-color: $BACKGROUND_DARK;
            border: 1px solid $BACKGROUND_NORMAL;
            color: $FOREGROUND_DARK;
            border-radius: $SIZE_BORDER_RADIUS;
            padding: 3px;
            outline: none;
        }

        &:selected {
            background: $SELECTION_NORMAL;
            color: $BACKGROUND_NORMAL;
        }

    }

    &::menu-indicator {
        subcontrol-origin: padding;
        subcontrol-position: bottom right;
        bottom: 4px;
    }

    &:pressed {
        background-color: $BACKGROUND_DARK;
        border: 1px solid $BACKGROUND_DARK;
    }

    &:selected {
        background: $SELECTION_NORMAL;
        color: $BACKGROUND_NORMAL;
    }

    &:focus {
        border: 1px solid $SELECTION_NORMAL;
    }

}

// ========================================================================== //
// QToolButton

QToolButton {
    background-color: transparent;
    border: 1px solid transparent;
    border-radius: $SIZE_BORDER_RADIUS;
    margin: 0px;
    padding: 2px;

    &:checked {
        background-color: transparent;
        border: 1px solid $SELECTION_NORMAL;

        &:disabled {
            border: 1px solid $SELECTION_DARK;
        }
    }

    &:pressed {
        margin: 1px;
        background-color: transparent;
        border: 1px solid $SELECTION_NORMAL;
    }

    &:disabled {
        border: none;
    }

    /* The subcontrols below are used only in the DelayedPopup mode */
    &[popupMode="0"] {
        /* Only for DelayedPopup */
        padding-right: 2px;
    }

    /* The subcontrols below are used only in the MenuButtonPopup mode */
    &[popupMode="1"] {
        /* Only for MenuButtonPopup */
        padding-right: 20px;

        &::menu-button {
            border: none;

            &:hover {
                border: none;
                border-left: 1px solid $SELECTION_LIGHT;
                border-radius: 0;
            }
        }
    }

    /* The subcontrol below is used only in the InstantPopup or DelayedPopup mode */
    &[popupMode="2"] {
        /* Only for InstantPopup */
        padding-right: 2px;
    }

    &::menu-button {
        padding: 2px;
        border-radius: $SIZE_BORDER_RADIUS;
        border: 1px solid $BACKGROUND_NORMAL;
        width: 12px;
        outline: none;

    }

    &::menu-indicator {
        image: url($PATH_RESOURCES + '/rc/arrow_down.png');
        height: 8px;
        width: 8px;
        top: 0;
        /* Exclude a shift for better image */
        left: -2px;
        /* Shift it a bit */
    }

    &::menu-arrow {
        image: url($PATH_RESOURCES + '/rc/arrow_down.png');
        height: 8px;
        width: 8px;

        &:hover {
            image: url($PATH_RESOURCES + '/rc/arrow_down_focus.png');
        }
    }
}

// ========================================================================== //
// QCommandLinkButton


QCommandLinkButton {
    background-color: transparent;
    border: 1px solid $BACKGROUND_NORMAL;
    color: $FOREGROUND_LIGHT;
    border-radius: $SIZE_BORDER_RADIUS;
    padding: 0px;
    margin: 0px;

    &:disabled {
        background-color: transparent;
        color: $FOREGROUND_DARK;
    }
}

/* ------------------------------------------------------------------------ */
/* INPUTS - NO FIELDS ----------------------------------------------------- */
/* ------------------------------------------------------------------------ */

// ========================================================================== //
// QComboBox

QComboBox {
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;
    selection-background-color: $SELECTION_NORMAL;
    padding-left: 4px;
    padding-right: 36px;
    /* 4 + 16*2 See scrollbar size */

    /* Fixes #103, #111 */
    min-height: 1.5em;

    /* padding-top: 2px;     removed to fix #132 */
    /* padding-bottom: 2px;  removed to fix #132 */
    /* min-width: 75px;      removed to fix #109 */

    QAbstractItemView {
        border: 1px solid $BACKGROUND_NORMAL;
        border-radius: 0;
        background-color: $BACKGROUND_DARK;
        selection-background-color: $SELECTION_NORMAL;

        &:hover {
            background-color: $BACKGROUND_DARK;
            color: $FOREGROUND_LIGHT;
        }

        &:selected {
            background: $SELECTION_NORMAL;
            color: $BACKGROUND_NORMAL;
        }

        &:alternate {
            background: $BACKGROUND_DARK;
        }

    }

    &:disabled {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_DARK;
    }

    &:focus {
        border: 1px solid $SELECTION_NORMAL;
    }

    &:on {
        selection-background-color: $SELECTION_NORMAL;
    }

    /* Needed to remove indicator - fix #132 */
    &::indicator {
        border: none;
        border-radius: 0;
        background-color: transparent;
        selection-background-color: transparent;
        color: transparent;
        selection-color: transparent;

        /* Needed to remove indicator - fix #132 */
        &:alternate {
            background: $BACKGROUND_DARK;
        }
    }

    &::item {

        &:alternate {
            background: $BACKGROUND_DARK;
        }

        &:checked {
            font-weight: bold;
        }

        &:selected {
            border: 0px solid transparent;
        }
    }

    &::drop-down {
        subcontrol-origin: padding;
        subcontrol-position: top right;
        width: 12px;
        border-left: 1px solid $BACKGROUND_NORMAL;
    }

    &::down-arrow {
        image: url($PATH_RESOURCES + '/rc/arrow_down_disabled.png');
        height: 8px;
        width: 8px;

        &:on,
        &:hover,
        &:focus {
            image: url($PATH_RESOURCES + '/rc/arrow_down.png');
        }
    }
}

// ========================================================================== //
// QSlider

QSlider {

    &:disabled {
        background: $BACKGROUND_DARK;
    }

    &::groove {
        &:horizontal {
            background: $BACKGROUND_NORMAL;
            border: 1px solid $BACKGROUND_NORMAL;
            height: 4px;
            margin: 0px;
            border-radius: $SIZE_BORDER_RADIUS;
        }

        &:vertical {
            background: $BACKGROUND_NORMAL;
            border: 1px solid $BACKGROUND_NORMAL;
            width: 4px;
            margin: 0px;
            border-radius: $SIZE_BORDER_RADIUS;
        }
    }

    &::add-page {

        &:vertical {
            background: $SELECTION_NORMAL;
            border: 1px solid $BACKGROUND_NORMAL;
            width: 4px;
            margin: 0px;
            border-radius: $SIZE_BORDER_RADIUS;

            :disabled {
                background: $SELECTION_DARK;
            }
        }
    }

    &::sub-page {

        &:horizontal {
            background: $SELECTION_NORMAL;
            border: 1px solid $BACKGROUND_NORMAL;
            height: 4px;
            margin: 0px;
            border-radius: $SIZE_BORDER_RADIUS;

            &:disabled {
                background: $SELECTION_DARK;
            }
        }
    }
    
    &::handle {

        &:horizontal {
            background: $FOREGROUND_DARK;
            border: 1px solid $BACKGROUND_NORMAL;
            width: 8px;
            height: 8px;
            margin: -8px 0px;
            border-radius: $SIZE_BORDER_RADIUS;

            &:hover {
                background: $SELECTION_LIGHT;
            }

            &:focus {
                border: 1px solid $SELECTION_NORMAL;
            }
        }

        &:vertical {
            background: $FOREGROUND_DARK;
            border: 1px solid $BACKGROUND_NORMAL;
            width: 8px;
            height: 8px;
            margin: 0 -8px;
            border-radius: $SIZE_BORDER_RADIUS;

            &:hover {
                background: $SELECTION_LIGHT;
            }

            &:focus {
                border: 1px solid $SELECTION_NORMAL;
            }
        }
    }
}

// ========================================================================== //
// QLineEdit (FINISHED)

QLineEdit {
    background-color: $BACKGROUND_DARK;
    padding-top: 2px;
    /* This QLineEdit fix  103, 111 */
    padding-bottom: 2px;
    /* This QLineEdit fix  103, 111 */
    padding-left: 4px;
    padding-right: 4px;
    border-style: solid;
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;
    color: $FOREGROUND_LIGHT;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_DARK;
    }

    &:focus {
        border: 1px solid $SELECTION_NORMAL;
    }

    &:selected {
        background-color: $SELECTION_NORMAL;
        color: $BACKGROUND_NORMAL;
    }
}

// ========================================================================== //
// QTabWiget (FINISHED)

QTabWidget {
    margin: 15px;

    &::pane {
        border: 1px solid $BACKGROUND_NORMAL;

        // https://stackoverflow.com/a/10047229/3620725
        &:top { top: -1px; }
        &:bottom { bottom: -1px; }
        &:left { left: -1px; }
        &:right { right: -1px; }
    }
}

// ========================================================================== //
// QTabBar (FINISHED)

QTabBar {
    border-radius: $SIZE_BORDER_RADIUS;
    
    &::close-button {
        border: 0;
        margin: 2px;
        padding: 2px;

        image: url($PATH_RESOURCES + '/rc/window_close.png');

        &:hover {
            image: url($PATH_RESOURCES + '/rc/window_close_focus.png');
        }

        &:pressed {
            image: url($PATH_RESOURCES + '/rc/window_close_pressed.png');
        }
    }

    &::tab {

        border: 1px solid;
        border-radius: $SIZE_BORDER_RADIUS;

        &:top,
        &:bottom {
            padding: 4px 14px;
        }

        &:left,
        &:right {
            padding: 14px 4px;
        }

        &:top {
            border-bottom-width: 0px;
            border-bottom-left-radius: 0px;
            border-bottom-right-radius: 0px;
        }
        &:bottom {
            border-top-width: 0px;
            border-top-left-radius: 0px;
            border-top-right-radius: 0px;
        }
        &:left {
            border-right-width: 0px;
            border-top-right-radius: 0px;
            border-bottom-right-radius: 0px;
        }
        &:right {
            border-left-width: 0px;
            border-bottom-left-radius: 0px;
            border-top-left-radius: 0px;
        }
        
        &:!selected {
            background-color: $BACKGROUND_NORMAL;
            color: $FOREGROUND_MEDIUM_LIGHT;
            border-color: $BACKGROUND_DARK;

        }

        &:selected {
            background-color: $BACKGROUND_DARK;
            color: $FOREGROUND_LIGHT;
            border-color: $BACKGROUND_NORMAL;
            
        }

        &:disabled {
            color: $FOREGROUND_DARK;
        }

    }
    
    QToolButton {
        background-color: $BACKGROUND_NORMAL;
        height: 12px;
        width: 12px;

        &:pressed {
            background-color: $BACKGROUND_NORMAL;
        }

        &::left-arrow {
            &:enabled {
                image: url($PATH_RESOURCES + '/rc/arrow_left.png');
            }

            &:disabled {
                image: url($PATH_RESOURCES + '/rc/arrow_left_disabled.png');
            }
        }

        &::right-arrow {
            &:enabled {
                image: url($PATH_RESOURCES + '/rc/arrow_right.png');
            }

            &:disabled {
                image: url($PATH_RESOURCES + '/rc/arrow_right_disabled.png');
            }
        }
    }
}

// ========================================================================== //
// QDockWiget


QDockWidget {
    outline: 1px solid $BACKGROUND_NORMAL;
    background-color: $BACKGROUND_DARK;
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;
    titlebar-close-icon: url($PATH_RESOURCES + '/rc/window_close.png');
    titlebar-normal-icon: url($PATH_RESOURCES + '/rc/window_undock.png');

    &::title {
        /* Better size for title bar */
        padding: 6px;
        spacing: 4px;
        border: 1px solid $BACKGROUND_NORMAL;
        background-color: $BACKGROUND_DARK;
    }

    &::close-button {
        background-color: $BACKGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;
        border: none;

        &:hover {
            image: url($PATH_RESOURCES + '/rc/window_close_focus.png');
        }

        &:pressed {
            image: url($PATH_RESOURCES + '/rc/window_close_pressed.png');
        }
    }

    &::float-button {
        background-color: $BACKGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;
        border: none;

        &:hover {
            image: url($PATH_RESOURCES + '/rc/window_undock_focus.png');
        }

        &:pressed {
            image: url($PATH_RESOURCES + '/rc/window_undock_pressed.png');
        }
    }
}

// ========================================================================== //
// QTreeView (FINISHED)

QTreeView {

    &:branch {

        &:selected,
        &:hover {
            background: url($PATH_RESOURCES + '/rc/transparent.png');
        }

        &:has-siblings:!adjoins-item {
            border-image: url($PATH_RESOURCES + '/rc/branch_line.png') 0;
        }

        &:has-siblings:adjoins-item {
            border-image: url($PATH_RESOURCES + '/rc/branch_more.png') 0;
        }

        &:!has-children:!has-siblings:adjoins-item {
            border-image: url($PATH_RESOURCES + '/rc/branch_end.png') 0;
        }

        &:has-children:!has-siblings:closed,
        &:closed:has-children:has-siblings {
            border-image: none;
            image: url($PATH_RESOURCES + '/rc/branch_closed.png');
        }

        &:open:has-children:!has-siblings,
        &:open:has-children:has-siblings {
            border-image: none;
            image: url($PATH_RESOURCES + '/rc/branch_open.png');
        }

        &:has-children:!has-siblings:closed:hover,
        &:closed:has-children:has-siblings:hover {
            image: url($PATH_RESOURCES + '/rc/branch_closed_focus.png');
        }

        &:open:has-children:!has-siblings:hover,
        &:open:has-children:has-siblings:hover {
            image: url($PATH_RESOURCES + '/rc/branch_open_focus.png');
        }
    }
}

QTreeView,
QListView,
QTableView,
QColumnView {
    background-color: $BACKGROUND_DARK;
    border: 1px solid $BACKGROUND_NORMAL;
    color: $FOREGROUND_LIGHT;
    gridline-color: $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;

    &:disabled {
        background-color: $BACKGROUND_DARK;
        color: $FOREGROUND_DARK;
    }

    &:selected {
        background-color: $SELECTION_NORMAL;
        color: $BACKGROUND_NORMAL;
    }

    &::item {

        &:pressed {
            background-color: $SELECTION_NORMAL;
        }

        &:selected {

            &:hover {
                background: $SELECTION_NORMAL;
                color: $BACKGROUND_DARK;
            }

            &:active {
                background-color: $SELECTION_NORMAL;
            }
        }

        &:!selected {

            &:hover {
                outline: 0;
                color: $SELECTION_LIGHT;
                background-color: $BACKGROUND_NORMAL;
            }
        }
    }
}

QTableCornerButton {
    &::section {
        background-color: $BACKGROUND_DARK;
        border: 1px transparent $BACKGROUND_NORMAL;
        border-radius: 0px;
    }
}

// ========================================================================== //
// QHeaderView

QHeaderView {
    background-color: $BACKGROUND_NORMAL;
    border: 0px transparent $BACKGROUND_NORMAL;
    padding: 0px;
    margin: 0px;
    border-radius: 0px;

    &:disabled {
        background-color: $BACKGROUND_NORMAL;
        border: 1px transparent $BACKGROUND_NORMAL;
        padding: 2px;
    }

    &::section {
        background-color: $BACKGROUND_NORMAL;
        color: $FOREGROUND_LIGHT;
        padding: 2px;
        border-radius: 0px;
        text-align: left;

        &:checked {
            color: $FOREGROUND_LIGHT;
            background-color: $SELECTION_NORMAL;

            &:disabled {
                color: $FOREGROUND_DARK;
                background-color: $SELECTION_DARK;
            }
        }

        &::horizontal {
            padding-left: 4px;
            padding-right: 4px;
            border-left: 1px solid $BACKGROUND_DARK;

            &::first,
            &::only-one {
                border-left: 1px solid $BACKGROUND_NORMAL;
            }

            &:disabled {
                color: $FOREGROUND_DARK;
            }
        }

        &::vertical {
            padding-left: 4px;
            padding-right: 4px;
            border-top: 1px solid $BACKGROUND_DARK;

            &::first,
            &::only-one {
                border-top: 1px solid $BACKGROUND_NORMAL;
            }

            &:disabled {
                color: $FOREGROUND_DARK;
            }
        }
    }

    &::down-arrow {
        /* Those settings (border/width/height/background-color) solve bug */
        /* transparent arrow background and size */
        background-color: $BACKGROUND_NORMAL;
        border: none;
        height: 12px;
        width: 12px;
        padding-left: 2px;
        padding-right: 2px;
        image: url($PATH_RESOURCES + '/rc/arrow_down.png');
    }

    &::up-arrow {
        background-color: $BACKGROUND_NORMAL;
        border: none;
        height: 12px;
        width: 12px;
        padding-left: 2px;
        padding-right: 2px;
        image: url($PATH_RESOURCES + '/rc/arrow_up.png');
    }
}

// ========================================================================== //
// QToolBox

QToolBox {
    padding: 0px;
    border: 0px;
    border: 1px solid $BACKGROUND_NORMAL;

    &:selected {
        padding: 0px;
        border: 2px solid $SELECTION_NORMAL;
    }

    &::tab {
        background-color: $BACKGROUND_DARK;
        border: 1px solid $BACKGROUND_NORMAL;
        color: $FOREGROUND_LIGHT;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;

        &:disabled {
            color: $FOREGROUND_DARK;
        }

        &:selected {
            background-color: $BACKGROUND_LIGHT;
            border-bottom: 2px solid $SELECTION_NORMAL;

            &:disabled {
                background-color: $BACKGROUND_NORMAL;
                border-bottom: 2px solid $SELECTION_DARK;
            }
        }

        &:!selected {
            background-color: $BACKGROUND_NORMAL;
            border-bottom: 2px solid $BACKGROUND_NORMAL;

            &:disabled {
                background-color: $BACKGROUND_DARK;
            }

        }

        &:hover {
            border-color: $SELECTION_LIGHT;
            border-bottom: 2px solid $SELECTION_LIGHT;
        }
    }

    QScrollArea QWidget QWidget {
        padding: 0px;
        border: 0px;
        background-color: $BACKGROUND_DARK;
    }
}

// ========================================================================== //
// QFrame


/* (dot) .QFrame  fix #141, #126, #123 */

.QFrame {
    border-radius: $SIZE_BORDER_RADIUS;
    border: 1px solid $BACKGROUND_NORMAL;

    /* No frame */
    &[frameShape="0"] {
        border-radius: $SIZE_BORDER_RADIUS;
        border: 1px transparent $BACKGROUND_NORMAL;
    }

    /* HLine */
    &[frameShape="4"] {
        max-height: 2px;
        border: none;
        background-color: $BACKGROUND_NORMAL;
    }

    /* HLine */
    &[frameShape="5"] {
        max-width: 2px;
        border: none;
        background-color: $BACKGROUND_NORMAL;
    }

}

// ========================================================================== //
// QSplitter

QSplitter {
    background-color: $BACKGROUND_NORMAL;
    spacing: 0px;
    padding: 0px;
    margin: 0px;

    &::handle {
        background-color: $BACKGROUND_NORMAL;
        border: 0px solid $BACKGROUND_DARK;
        spacing: 0px;
        padding: 1px;
        margin: 0px;

        &:hover {
            background-color: $FOREGROUND_DARK;
        }

        &:horizontal {
            width: 5px;
            image: url($PATH_RESOURCES + '/rc/line_vertical.png');
        }

        &:vertical {
            height: 5px;
            image: url($PATH_RESOURCES + '/rc/line_horizontal.png');
        }
    }
}

// ========================================================================== //
// QDateEdit


QDateEdit, QDateTimeEdit {
    selection-background-color: $SELECTION_NORMAL;
    border-style: solid;
    border: 1px solid $BACKGROUND_NORMAL;
    border-radius: $SIZE_BORDER_RADIUS;

    /* This fixes 103, 111 */
    padding-top: 2px;

    /* This fixes 103, 111 */
    padding-bottom: 2px;
    padding-left: 4px;
    padding-right: 4px;
    min-width: 10px;

    &:on {
        selection-background-color: $SELECTION_NORMAL;
    }

    &::drop-down {
        subcontrol-origin: padding;
        subcontrol-position: top right;
        width: 12px;
        border-left: 1px solid $BACKGROUND_NORMAL;
    }

    &::down-arrow {
        image: url($PATH_RESOURCES + '/rc/arrow_down_disabled.png');
        height: 8px;
        width: 8px;

        &:on,
        &:hover,
        &:focus {
            image: url($PATH_RESOURCES + '/rc/arrow_down.png');
        }

    }

    QAbstractItemView {
        background-color: $BACKGROUND_DARK;
        border-radius: $SIZE_BORDER_RADIUS;
        border: 1px solid $BACKGROUND_NORMAL;
        selection-background-color: $SELECTION_NORMAL;
    }
}


// ========================================================================== //
// Blue highlight on hover
QTreeView,
QListView,
QTableView,
QColumnView,
QToolButton,
QLineEdit,
QComboBox,
QToolButton,
QToolButton::menu-button,
QPushButton,
QAbstractSpinBox,
QPlainTextEdit,
QTextEdit,
QActionButton {

    &:hover {
        border: 1px solid $SELECTION_LIGHT;
    }
}

// ========================================================================== //
// Checkboxes (FINISHED)

QAbstractItemView::indicator,
QCheckBox::indicator, 
QGroupBox::indicator,
QMenu::indicator:non-exclusive {    
    width: 12px;
    height: 12px;

    &:unchecked {
        image: url($PATH_RESOURCES + '/rc/checkbox_unchecked.png');

        &:hover,
        &:focus,
        &:pressed {
            image: url($PATH_RESOURCES + '/rc/checkbox_unchecked_focus.png');
        }

        &:disabled {
            image: url($PATH_RESOURCES + '/rc/checkbox_unchecked_disabled.png');
        }
    }

    &:checked {
        image: url($PATH_RESOURCES + '/rc/checkbox_checked.png');

        &:hover,
        &:focus,
        &:pressed {
            image: url($PATH_RESOURCES + '/rc/checkbox_checked_focus.png');
        }

        &:disabled {
            image: url($PATH_RESOURCES + '/rc/checkbox_checked_disabled.png');
        }
    }

    &:indeterminate {
        image: url($PATH_RESOURCES + '/rc/checkbox_indeterminate.png');

        &:disabled {
            image: url($PATH_RESOURCES + '/rc/checkbox_indeterminate_disabled.png');
        }

        &:focus,
        &:hover,
        &:pressed {
            image: url($PATH_RESOURCES + '/rc/checkbox_indeterminate_focus.png');
        }
        
    }
}

QRadioButton::indicator,
QMenu::indicator:exclusive {
    width: 12px;
    height: 12px;

    &:unchecked {
        image: url($PATH_RESOURCES + '/rc/radio_unchecked.png');

        &:hover,
        &:focus,
        &:pressed {
            border: none;
            outline: none;
            image: url($PATH_RESOURCES + '/rc/radio_unchecked_focus.png');
        }

        &:disabled {
            image: url($PATH_RESOURCES + '/rc/radio_unchecked_disabled.png');
        }
    }

    &:checked {
        image: url($PATH_RESOURCES + '/rc/radio_checked.png');

        &:hover,
        &:focus,
        &:pressed {
            border: none;
            outline: none;
            image: url($PATH_RESOURCES + '/rc/radio_checked_focus.png');
        }
        
        &:disabled {
            image: url($PATH_RESOURCES + '/rc/radio_checked_disabled.png');
        }
    }
    
}

