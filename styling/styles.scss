// ========================================================================== //
// Styles & Color

// ========================================================================== //
// Generic

QWidget {
    background-color: $BACKGROUND_2;
    color: $FOREGROUND_1;

    // For alternating row color
    alternate-background-color: $BACKGROUND_3; // TODO

    selection-background-color: $SELECTION_2;
    selection-color: $FOREGROUND_1;

    &:disabled {
        color: $FOREGROUND_DISABLED;
    }

    &::item {
        &:selected {
            &:active {
                background-color: $SELECTION_1;
            }
            &:!active {
                background-color: $BACKGROUND_2;
            }
        }
    }

}

QTabWidget .QWidget,
QTabWidget .QFrame,
QTabWidget .QSplitter,
QTabWidget .QStackedWidget,
QTabBar::tab:selected,
QGroupBox,
QDial {
    background-color: $BACKGROUND_1;
}

QTabBar::tab:selected {
    background-color: $BACKGROUND_1;
    border: 1px solid $BORDER_1;
}


QAbstractScrollArea {
    background-color: $BACKGROUND_2;
}


QToolButton,
QComboBox,
QLineEdit,
QTextEdit,
QPlainTextEdit,
QTabWidget::pane,
QDockWidget,
QTreeView,
QListView,
QTableView,
QColumnView,
QDateEdit, 
QDateTimeEdit,
QGroupBox,
QAbstractSpinBox,
QDateEdit>QAbstractItemView, 
QDateTimeEdit>QAbstractItemView,
QToolBox {
    background-color: $BACKGROUND_0;
    border: 1px solid $BORDER_1;
    
    &:disabled {
        color: $FOREGROUND_DISABLED;
    }
}


QStatusBar,
QDockWidget::title,
QTabBar::tab:!selected {
    background: $BACKGROUND_3;
    border: 1px solid $BORDER_1;
}

QLabel,
QCheckBox,
QRadioButton,
QSlider {
    background-color: transparent;
}


QPushButton,
QSlider::handle,
QToolBox::tab {
    background-color: $BACKGROUND_SURFACE;
    border: 1px solid $BORDER_1;
}

QCheckBox, 
QRadioButton, 
QPushButton, 
QToolButton, 
QComboBox, 
QLineEdit,
QAbstractSpinBox {
    padding: 3px 1px;
}

QGroupBox {
    padding-top: 16px;
}

// ========================================================================== //
// QTableView

QTableView {
    border: 1px solid green;
}
QHeaderView {
    border: none;
    &::section {
        border: 1px solid red;
        // &:horizontal {
        //     border-top-width: 0px;
        //     border-left-width: 0px;
        //     background-color: $BACKGROUND_SURFACE;
        // }
        // &:vertical {
        //     border-left-width: 0px;
        //     border-top-width: 0px;
        //     background-color: $BACKGROUND_SURFACE_HORZ;
        // }
    
    }
}

QTableCornerButton {
    &::section {
        border: none;
        background-color: $BACKGROUND_SURFACE;
    }
}

QStatusBar {
    QWidget {
        background: transparent;
    }
    /* Removes white vertical borders separating items */
    &::item {
        border: none;
    }
}

// QTabWidget
QTabWidget {

    &::pane {
        padding: 1px;
        &:top { 
            // Hide border between tab and pane (https://stackoverflow.com/a/10047229/3620725)
            top: -1px; 
            // No rounding where edge tab meets pane
            border-top-left-radius: 0px;
        }
        &:bottom { 
            bottom: -1px; 
            border-bottom-left-radius: 0px;
        }
        &:left { 
            left: -1px; 
            border-top-left-radius: 0px;
        }
        &:right { 
            border-top-right-radius: 0px;
            right: -1px; 
        }
    }
}

QTabBar {
    &::tab {
        &:!selected {
            margin-top: 2px;
        }

        border-right-width: 0px;
        &:last{
            border-right-width: 1px;

        }
        &:top,
        &:bottom {
            padding: 6px 16px;
        }

        &:left,
        &:right {
            padding: 16px 6px;
        }

        &:top {
            &:selected { border-bottom-width: 0px; }
            border-bottom-left-radius: 0px;
            border-bottom-right-radius: 0px;
        }
        &:bottom {
            &:selected { border-top-width: 0px; }
            border-top-left-radius: 0px;
            border-top-right-radius: 0px;
        }
        &:left {
            &:selected { border-right-width: 0px; }
            border-top-right-radius: 0px;
            border-bottom-right-radius: 0px;
        }
        &:right {
            &:selected { border-left-width: 0px; }
            border-bottom-left-radius: 0px;
            border-top-left-radius: 0px;
        }
    }
}

QDockWidget {
    &::title {
        padding: 6px;
    }
}

QToolBox {
    &::tab {
        border-width: 0px;
        border-top-width: 1px;
        border-bottom-width: 2px;
        border-top-left-radius: $SIZE_BORDER_RADIUS;
        border-top-right-radius: $SIZE_BORDER_RADIUS;

        &:selected {
            font-weight: bold;
        }
    }

}

QStatusBar {
    border: 0px solid;
    padding: 0px;

    /* Fixes #205, white vertical borders separating items */
    &::item {
        border: none;
    }


    QLabel {
        /* Fixes Spyder #9120, #9121 */
        background: transparent;
    }
}

QAbstractScrollArea {
    border: 1px solid $BORDER_1;
}

QScrollBar {
    $SCROLLBAR_WIDTH: 16px;

    background-color: $BACKGROUND_3;
    border: 1px solid $BORDER_1;

    &::handle,
    &::sub-line,
    &::add-line {
        border: 1px solid $BORDER_1;
        &:vertical {
            background-color: $BACKGROUND_SURFACE_HORZ;

        }
        &:horizontal {
            background-color: $BACKGROUND_SURFACE;

        }
    }

    &:horizontal {
        height: $SCROLLBAR_WIDTH;
        margin: 0px $SCROLLBAR_WIDTH;
    }

    &:vertical {
        width: $SCROLLBAR_WIDTH;
        margin: $SCROLLBAR_WIDTH 0px;
    }

    &::add-line {
        border: 1px solid black;
        margin: 0;
        &:horizontal {
            height: $SCROLLBAR_WIDTH;
            width: $SCROLLBAR_WIDTH;
            subcontrol-position: right;
            subcontrol-origin: margin;
        }

        &:vertical {
            height: $SCROLLBAR_WIDTH;
            width: $SCROLLBAR_WIDTH;
            subcontrol-position: bottom;
            subcontrol-origin: margin;
        }
    }

    &::sub-line {
        border: 1px solid black;
        margin: 0;
        &:horizontal {
            height: $SCROLLBAR_WIDTH;
            width: $SCROLLBAR_WIDTH;
            subcontrol-position: left;
            subcontrol-origin: margin;
        }

        &:vertical {
            height: $SCROLLBAR_WIDTH;
            width: $SCROLLBAR_WIDTH;
            subcontrol-position: top;
            subcontrol-origin: margin;
        }
    }
}

// ========================================================================== //
// Rounded Edges
QToolButton,
QComboBox,
QLineEdit,
QTextEdit,
QPlainTextEdit,
QTabWidget::pane,
QTabBar::tab,
QDockWidget,
QToolBox,
QDateEdit, 
QDateTimeEdit,
QGroupBox,
QDateEdit>QAbstractItemView, 
QDateTimeEdit>QAbstractItemView,
.QWidget {
    border-radius: $SIZE_BORDER_RADIUS;
}

// ========================================================================== //
// Hover Highlight
QToolButton,
QToolButton::menu-button,
QPushButton,
QActionButton,
QTabBar::tab:!selected,
QToolBox::tab:!selected {
    &:hover {
        background-color: $BACKGROUND_1;
    }
}


// ========================================================================== //
// Icons
QMenu::right-arrow {
    image: url($PATH_RESOURCES + '/rc/arrow_right.png');
}
QScrollBar {
    &::add-line {
        &:horizontal {
            image: url($PATH_RESOURCES + '/rc/arrow_right.png');
        }

        &:vertical {
            image: url($PATH_RESOURCES + '/rc/arrow_down.png');
        }
    }

    &::sub-line {
        &:horizontal {
            image: url($PATH_RESOURCES + '/rc/arrow_left.png');
        }

        &:vertical {
            image: url($PATH_RESOURCES + '/rc/arrow_up.png');
        }
    }
}
QSizeGrip {
    width: 12px;
    height: 12px;
    image: url($PATH_RESOURCES + '/rc/window_grip.png');
}
QToolBar {
    &::handle {
        &:horizontal {
            image: url($PATH_RESOURCES + '/rc/toolbar_move_horizontal.png');
        }
        &:vertical {
            image: url($PATH_RESOURCES + '/rc/toolbar_move_vertical.png');
        }
    }

    &::separator {

        &:horizontal {
            image: url($PATH_RESOURCES + '/rc/toolbar_separator_horizontal.png');
        }

        &:vertical {
            image: url($PATH_RESOURCES + '/rc/toolbar_separator_vertical.png');
        }
    }
}
QAbstractSpinBox {
    &::up-arrow {
        image: url($PATH_RESOURCES + '/rc/arrow_up.png');
        height: 8px;
        width: 8px;
    }
    &::down-arrow {
        image: url($PATH_RESOURCES + '/rc/arrow_down.png');
        height: 8px;
        width: 8px;
    }
}
QComboBox {
    &::down-arrow {
            image: url($PATH_RESOURCES + '/rc/arrow_down.png');
    }
}
QTabBar {

    &::close-button {
        margin: 2px;
        padding: 2px;
        image: url($PATH_RESOURCES + '/rc/window_close.png');
    }
}

QDockWidget {
    outline: 1px solid $BACKGROUND_3;
    titlebar-close-icon: url($PATH_RESOURCES + '/rc/window_close.png');
    titlebar-normal-icon: url($PATH_RESOURCES + '/rc/window_undock.png');
}

QTreeView {
    &:branch {
        &:has-siblings:!adjoins-item {
            border-image: url($PATH_RESOURCES + '/rc/branch_line.png');
        }

        &:has-siblings:adjoins-item {
            border-image: url($PATH_RESOURCES + '/rc/branch_more.png');
        }

        &:!has-children:!has-siblings:adjoins-item {
            border-image: url($PATH_RESOURCES + '/rc/branch_end.png');
        }

        &:has-children:!has-siblings:closed,
        &:closed:has-children:has-siblings {
            border-image: none;
            image: url($PATH_RESOURCES + '/rc/branch_closed.png');
        }

        &:open:has-children:!has-siblings,
        &:open:has-children:has-siblings {
            border-image: none;
            image: url($PATH_RESOURCES + '/rc/branch_open.png');
        }

    }
}
QHeaderView {
    &::down-arrow {
        image: url($PATH_RESOURCES + '/rc/arrow_down.png');
    }

    &::up-arrow {
        image: url($PATH_RESOURCES + '/rc/arrow_up.png');
    }
}
QAbstractItemView::indicator,
QCheckBox::indicator, 
QGroupBox::indicator,
QMenu::indicator:non-exclusive {    
    width: 16px;
    height: 16px;

    &:unchecked {
        image: url($PATH_RESOURCES + '/rc/checkbox_unchecked.png');
    }

    &:checked {
        image: url($PATH_RESOURCES + '/rc/checkbox_checked.png');
    }

    &:indeterminate {
        image: url($PATH_RESOURCES + '/rc/checkbox_indeterminate.png');
    }
}

QRadioButton::indicator,
QMenu::indicator:exclusive {
    width: 16px;
    height: 16px;

    &:unchecked {
        image: url($PATH_RESOURCES + '/rc/radio_unchecked.png');
    }

    &:checked {
        image: url($PATH_RESOURCES + '/rc/radio_checked.png');
    }
    
}
